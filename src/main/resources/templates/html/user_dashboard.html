<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>User Dashboard</title>
  <link rel="stylesheet" href="/css/styles.css">
</head>
<body>
<div class="dashboard">
  <!-- Mobile Header -->
  <header class="header">
    <button id="sidebar-toggle" class="sidebar-toggle">
      <i data-lucide="menu"></i>
      <span class="sr-only">Toggle Menu</span>
    </button>
    <h1 class="header-title">User Dashboard</h1>
  </header>

  <!-- Sidebar -->
  <aside class="sidebar" id="sidebar">
    <div class="sidebar-header">
      <h2 class="company-name">Acme Inc</h2>
    </div>
    <nav class="sidebar-nav">
      <a href="/user/dashboard" class="nav-item">
        <i data-lucide="gauge"></i>
        <span>Dashboard</span>
      </a>
      <a href="/user/store" class="nav-item">
        <i data-lucide="store"></i>
        <span>Shop</span>
      </a>
      <a href="/user/order" class="nav-item">
        <i data-lucide="shopping-cart"></i>
        <span>My Orders</span>
      </a>
      <a href="#" class="nav-item">
        <i data-lucide="heart"></i>
        <span>Favorites</span>
      </a>
      <a href="#" class="nav-item">
        <i data-lucide="settings"></i>
        <span>Account Settings</span>
      </a>
    </nav>
  </aside>

  <!-- Main Content -->
  <main class="main-content">
    <div class="container">
      <!-- Tabs -->
      <div class="tabs">
        <div class="tabs-list">
          <button class="tab-trigger active" data-tab="overview">Overview</button>
          <button class="tab-trigger" data-tab="orders">Shopping Card</button>
          <button class="tab-trigger" data-tab="profile">Profile</button>
        </div>

        <!-- Overview Tab -->

        <div class="tab-content active" id="overview">
          <div class="welcome-banner">
            <h2>Welcome back</h2>
            <p>Here's what's happening with your account today.</p>
          </div>

          <div class="stats-grid">
            <div class="card">
              <div class="card-header">
                <h3 class="card-title">Active Subscription</h3>
                <i data-lucide="credit-card"></i>
              </div>
              <div class="card-content">
                <div class="stat-value">Premium Plan</div>
                <p class="stat-comparison">Renews in 18 days</p>
              </div>
            </div>
            <div class="card">
              <div class="card-header">
                <h3 class="card-title">Reward Points</h3>
                <i data-lucide="award"></i>
              </div>
              <div class="card-content">
                <div class="stat-value">2,350</div>
                <p class="stat-comparison">+150 this month</p>
              </div>
            </div>
            <div class="card">
              <div class="card-header">
                <h3 class="card-title">Orders</h3>
                <i data-lucide="package"></i>
              </div>
              <div class="card-content">
                <div class="stat-value">12</div>
                <p class="stat-comparison">3 in progress</p>
              </div>
            </div>
            <div class="card">
              <div class="card-header">
                <h3 class="card-title">Support Tickets</h3>
                <i data-lucide="ticket"></i>
              </div>
              <div class="card-content">
                <div class="stat-value">1</div>
                <p class="stat-comparison">Open ticket</p>
              </div>
            </div>
          </div>

          <div class="charts-grid">
            <div class="card">
              <div class="card-header">
                <h3 class="card-title">Recent Activity</h3>
              </div>
              <div class="card-content">
                <div class="activity-list">
                  <div class="activity-item">
                    <div class="activity-icon bg-green">
                      <i data-lucide="shopping-cart"></i>
                    </div>
                    <div class="activity-details">
                      <p class="activity-title">Order Placed</p>
                      <p class="activity-description">You placed an order for Wireless Headphones</p>
                      <p class="activity-time">2 hours ago</p>
                    </div>
                  </div>
                  <div class="activity-item">
                    <div class="activity-icon bg-blue">
                      <i data-lucide="credit-card"></i>
                    </div>
                    <div class="activity-details">
                      <p class="activity-title">Payment Successful</p>
                      <p class="activity-description">Your payment of $129.99 was successful</p>
                      <p class="activity-time">2 hours ago</p>
                    </div>
                  </div>
                  <div class="activity-item">
                    <div class="activity-icon bg-purple">
                      <i data-lucide="message-square"></i>
                    </div>
                    <div class="activity-details">
                      <p class="activity-title">Support Reply</p>
                      <p class="activity-description">Support team replied to your ticket #45678</p>
                      <p class="activity-time">Yesterday</p>
                    </div>
                  </div>
                  <div class="activity-item">
                    <div class="activity-icon bg-yellow">
                      <i data-lucide="star"></i>
                    </div>
                    <div class="activity-details">
                      <p class="activity-title">Review Submitted</p>
                      <p class="activity-description">You left a 5-star review for Smart Watch</p>
                      <p class="activity-time">3 days ago</p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="card">
              <div class="card-header">
                <h3 class="card-title">Recommended Products</h3>
              </div>
              <div class="card-content">
                <div class="products-grid">
                  <div class="product-card">
                    <div class="product-image"></div>
                    <h4 class="product-title">Wireless Earbuds</h4>
                    <p class="product-price">$89.99</p>
                    <button class="product-btn">Add to Cart</button>
                  </div>
                  <div class="product-card">
                    <div class="product-image"></div>
                    <h4 class="product-title">Smart Speaker</h4>
                    <p class="product-price">$129.99</p>
                    <button class="product-btn">Add to Cart</button>
                  </div>
                  <div class="product-card">
                    <div class="product-image"></div>
                    <h4 class="product-title">Fitness Tracker</h4>
                    <p class="product-price">$79.99</p>
                    <button class="product-btn">Add to Cart</button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Orders Tab -->
        <div class="tab-content" id="orders">
          <div class="card">
            <div class="card-header">
              <h3 class="card-title">Shopping Card</h3>
            </div>
            <form th:action="@{'/order/confirm'}" method="get">
              <button type="submit">Order Now</button>
            </form>
            <div class="card-content">
              <div class="orders-list">
                <div class="order-item" th:each="item : ${shopping_cart}">
                  <div class="order-info">
                    <p class="order-id">#ORD-<span th:text="${item.getCartItemId()}">5432</span></p>
                    <p class="order-date" th:text="${#dates.format(item.getUpdatedAt(), 'MMM dd, yyyy')}">... 00, 0000</p>
                  </div>
                  <div class="order-products">
                    <p th:text="'Product ID: ' + ${item.getProductId()}"></p>
                  </div>
                  <div class="order-total">
                    <span th:text="'Qty: ' + ${item.getQuantity()}">$null</span>
                  </div>
                  <div class="order-actions">
                    <a th:href="@{'/product/' + ${item.getProductId()}}">
                      <button class="view-btn">View Details</button>
                    </a>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Profile Tab -->
        <div class="tab-content" id="profile">
          <div class="card">
            <div class="card-header">
              <h3 class="card-title">Personal Information</h3>
            </div>
            <div class="card-content">
              <div class="profile-info">
                <div class="profile-avatar">J</div>
                <div class="profile-details">
                  <h3 class="profile-name" th:text="${user.getAttribute('name')}"></h3>
                  <small>@<span class="profile-member" th:text="${user.getName()}"></span></small>
                  <p class="profile-email" th:text="${user.getAttribute('email')}"></p>
                  <p class="profile-member">Member since: Jan 2022</p>
                </div>
              </div>
              <div class="profile-form">
                <div class="form-group">
                  <label for="name">Full Name</label>
                  <input type="text" id="name" th:value="${user.getAttribute('name')}">
                </div>
                <div class="form-group">
                  <label for="email">Email</label>
                  <input type="email" id="email" th:value="${user.getAttribute('email')}">
                </div>
                <div class="form-group">
                  <label for="phone">Phone</label>
                  <input type="tel" id="phone" th:value="${user.getAttribute('phoneNumber')}">
                </div>
                <button class="save-btn">Save Changes</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>
</div>

<div class="overlay" id="overlay"></div>

<script src="https://cdn.jsdelivr.net/npm/lucide@latest/dist/umd/lucide.min.js"></script>
<script src="/js/script.js"></script>
</body>
</html>